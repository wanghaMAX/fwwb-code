## 有关于注册

> 1. 输入用户名与密码
> 2. 点击注册
> 3. 发送用户名和密码至ip/cookiesalt
> 4. cookiesalt返回salt和id
> 5. 后端记录到数据库user表中
> 6. 前段获取到salt后将id和加密后的密码发送至/register
> 7. 前段将用户名和密码以及id存储到本地cookie
> 8. 后端将接收到的用户名与密码存储到数据库user表中

##  有关于登录

> 1. 读取本地cookie，判断生存时间
> 2. 如果过期，清除本地cookie，需要回到登录界面
> 3. 没有过期，读取cookie中的id,用户名,密码信息，发送至/login判断
> 4. 读取/login返回信息，返回success则表示登录成功，否则需要重新登录
> 5. 成功登录时，返回信息中包含一个sessionid，后端会记录于数据库user表中
> 6. 前端向后台几乎所有的API发出申请均需要此sessionid才可以，因此前端需要记录
> 7. 登录失败时，需要用户重新输入用户名和密码

## 有关于图像

>  所有的图像的存储以及获取过程如下：
>
> 1. 将图像上传到指定服务器地址
> 2. 后端计算图像对应的SHA512校验和，并以此给图像命名
> 3. 图像将会存储到命名的前8位的文件夹下
> 4. (前端既然知道了命名规则，上传后需要将图像修改为对应的地址)
> 5. 同时，数据库中会存储校验和以及图像地址
> 6. 前端在获取到内容后需要及时将内部的地址修改为图片
> 7. 如果图像无法直接获取，向数据库发出请求

## 有关于getcontent

* headline: 

  头条，近24小时内的说说，点赞数降序排列

* nearby: 

  附近，近48小时内的，经纬度之差均 <0.6 的说说，点赞数降序排列 (DEMO: beijing:116.46,39.92 tianjin:117.20,39.13)

* subscribe: 

  订阅，查阅所有订阅的up主的说说，按照时间降序排列

* search: 

  搜索，，，，

* mime: 

  我的，查询所有自己的说说，按照时间降序排列

* ad: 

  广告，从后台数据表advertise中获取page=getcontent的最新的五条广告